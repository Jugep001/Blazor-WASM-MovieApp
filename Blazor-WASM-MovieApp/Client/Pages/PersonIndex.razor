@page "/personIndex"
@using Blazor_WASM_MovieApp.Models
@using Blazor_WASM_MovieApp.Client.Pages.BaseComponents
@inherits PersonIndexBase

<AuthorizeView Roles="admin, writer, reader" Context="authContext">
<div class="table-responsive pt-lg-5  ">

    <div class="pl-2 ">
        <div class="float-start mt-2">
            <MudButton Href="createPerson" Variant="Variant.Filled" Color="Color.Primary"> Add Person  </MudButton>
        </div>

        <EditForm Model="searchPeople" OnSubmit="HandleSubmit">
            <div class="d-flex float-end mt-2 p-1">

                <div>

                    <InputText type="text" class="form-control" name="searchString" placeholder="Last Name" @bind-Value="searchPeople.SearchString" />

                </div>

                <input type="submit" value="Search" class="btn btn-secondary" />

            </div>

        </EditForm>
        <br />
        <br />
    </div>


    <table class="table table-hover table-striped bg-white">
        <thead class="table-dark">
            <tr>
                <th>
                    Last Name
                </th>

                <th>
                    First Name
                </th>

                <th>
                    Actions
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (Person item in people)
            {
                <tr>
                    <td>
                        @item.Name
                    </td>

                    <td>
                        @item.Vorname
                    </td>

                    <td>


                        <div class="span2">

                            <a class="btn btn-outline-primary" href="editPerson/@item.Id">Edit</a>
                            <a class="btn btn-outline-danger" href="deletePerson/@item.Id">Delete</a>

                        </div>

                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
</AuthorizeView>
@code {

}
